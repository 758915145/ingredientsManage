webpackJsonp([1,2],{173:function(t,e){t.exports=require("electron")},174:function(t,e,n){"use strict";var a=n(21),r=n(222),i=n.n(r),o=n(186),s=n.n(o),l=n(236),u=(n.n(l),n(242)),c=n(241),d=n(244);n.n(d);n.d(e,"a",function(){return m}),a.default.prototype._=window._=n(243),a.default.prototype.window=window,function(t){t.keys().forEach(t)}(n(178)),a.default.use(s.a),a.default.use(u.a);var f=new u.a({mode:"hash",routes:function(t){var e=[];return t.keys().forEach(function(n){var a=t(n);"index"===a.name?e.push({path:"/",component:a}):e.push({path:a.name,component:a})}),e}(n(179))});a.default.use(c.a);var _=new c.a.Store({modules:function(t){var e={};return t.keys().forEach(function(n){var a=t(n).default;e[a.name]=a}),e}(n(177))});n.i(d.sync)(_,f);var m=new a.default(Object.assign({router:f,store:_},i.a))},175:function(t,e,n){"use strict";var a=n(246),r=n.n(a);window.Promise=window.Promise||r.a},176:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(245),r=n.n(a);r.a.install({onUpdateReady:function(){console.log("update ready"),r.a.applyUpdate()},onUpdated:function(){console.log("updated"),location.reload()}})},177:function(t,e,n){function a(t){return n(r(t))}function r(t){var e=i[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var i={"./views/Index/store.js":249};a.keys=function(){return Object.keys(i)},a.resolve=r,t.exports=a,a.id=177},178:function(t,e,n){function a(t){return n(r(t))}function r(t){var e=i[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var i={"./config.js":247,"./global.utils.js":248};a.keys=function(){return Object.keys(i)},a.resolve=r,t.exports=a,a.id=178},179:function(t,e,n){function a(t){return n(r(t))}function r(t){var e=i[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var i={"./Index/Index.index.vue":223};a.keys=function(){return Object.keys(i)},a.resolve=r,t.exports=a,a.id=179},222:function(t,e,n){n(237);var a=n(38)(n(250),n(228),null,null);t.exports=a.exports},223:function(t,e,n){n(238);var a=n(38)(n(251),n(232),null,null);t.exports=a.exports},224:function(t,e,n){var a=n(38)(n(252),n(229),null,null);t.exports=a.exports},225:function(t,e,n){var a=n(38)(n(253),n(230),null,null);t.exports=a.exports},226:function(t,e,n){n(239);var a=n(38)(n(254),n(233),null,null);t.exports=a.exports},227:function(t,e,n){var a=n(38)(n(255),n(231),null,null);t.exports=a.exports},228:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]}},229:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("pre",{staticStyle:{"font-size":"12px"}},[t._v("    "+t._s(t.historyString)+"\n")])},staticRenderFns:[]}},230:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.forShow?n("div",[n("div",[n("el-button",{attrs:{type:"primary"},on:{click:t.print}},[t._v("打印食材")]),t._v(" "),t._l(t.todayMaterial,function(e){return+e.weight>0?n("el-tag",{key:e.name,staticStyle:{"margin-right":"10px"}},[t._v("\n                "+t._s(e.name+"："+e.weight)+"\n            ")]):t._e()})],2),t._v(" "),n("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"筛选"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),t._v(" "),t.filter.length>0?n("el-button",{on:{click:function(e){t.filter=""}}},[t._v("重置")]):t._e(),t._v(" "),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[n("el-table-column",{attrs:{label:"菜名",prop:"name"}}),t._v(" "),n("el-table-column",{attrs:{label:"份数"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.$store.state.Index.today.data?n("el-input-number",{attrs:{min:0},on:{change:t.handleChange},model:{value:t.$store.state.Index.today.data[e.row.name],callback:function(n){t.$set(t.$store.state.Index.today.data,e.row.name,n)},expression:"$store.state.Index.today.data[scope.row.name]"}}):t._e()]}}])})],1)],1):n("div",{staticStyle:{width:"600px"}},[t._v(">\n        "+t._s((new t.window.Date).Format("yyyy-MM-dd hh:mm:ss"))+"\n        "),n("el-table",{staticStyle:{width:"600px"},attrs:{data:t.todayMaterial}},[n("el-table-column",{attrs:{label:"食材",prop:"name"}}),t._v(" "),n("el-table-column",{attrs:{label:"重量（克）",prop:"weight"}})],1)],1)])},staticRenderFns:[]}},231:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-button",{attrs:{type:"primary"},on:{click:t.addMaterial}},[t._v("添加食材")]),t._v(" "),n("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"筛选"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),t._v(" "),t.filter.length>0?n("el-button",{on:{click:function(e){t.filter=""}}},[t._v("重置")]):t._e(),t._v(" "),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[n("el-table-column",{attrs:{label:"食材",prop:"name"}}),t._v(" "),n("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"small"},on:{click:function(n){t.editMaterial(e.$index,e.row)}}},[t._v("编辑\n                ")]),t._v(" "),n("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(n){t.delMaterial(e.$index,e.row)}}},[t._v("删除\n                ")])]}}])})],1),t._v(" "),n("el-dialog",{key:"食材",attrs:{size:"tiny",title:"食材表单",visible:t.dialog.show},on:{"update:visible":function(e){t.dialog.show=e}}},[n("el-form",{attrs:{model:t.dialog.formData}},[n("el-form-item",{attrs:{label:"食材名","label-width":t.dialog.formLabelWidth}},[n("el-input",{attrs:{"auto-complete":"off"},model:{value:t.dialog.formData.name,callback:function(e){t.dialog.formData.name=e},expression:"dialog.formData.name"}})],1)],1),t._v(" "),n("div",{staticClass:"dialog-footer",slot:"footer"},[n("el-button",{on:{click:function(e){t.dialog.show=!1}}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.savaMaterial}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]}},232:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-tabs",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[n("el-tab-pane",{attrs:{label:"数据录入",name:"数据录入"}},["数据录入"===t.activeName?n("Entry"):t._e()],1),t._v(" "),n("el-tab-pane",{attrs:{label:"菜谱管理",name:"菜谱管理"}},[n("cookbook")],1),t._v(" "),n("el-tab-pane",{attrs:{label:"食材管理",name:"食材管理"}},[n("material")],1),t._v(" "),n("el-tab-pane",{attrs:{label:"历史数据",name:"历史数据"}},[n("history")],1)],1)],1)},staticRenderFns:[]}},233:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-button",{attrs:{type:"primary"},on:{click:t.addCookBook}},[t._v("添加菜谱")]),t._v(" "),n("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"筛选"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),t._v(" "),t.filter.length>0?n("el-button",{on:{click:function(e){t.filter=""}}},[t._v("重置")]):t._e(),t._v(" "),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[n("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},t._l(e.row.materials,function(e){return n("el-form-item",{key:e.name,attrs:{label:e.name}},[n("span",[t._v(t._s(e.weight))])])}))]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"菜名",prop:"name"}}),t._v(" "),n("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"small"},on:{click:function(n){t.editCookBook(e.$index,e.row)}}},[t._v("编辑\n                ")]),t._v(" "),n("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(n){t.delCookBook(e.$index,e.row)}}},[t._v("删除\n                ")])]}}])})],1),t._v(" "),t.dialog.show?n("el-dialog",{key:"菜谱",attrs:{title:"菜谱表单",visible:t.dialog.show,size:"supertiny"},on:{"update:visible":function(e){t.dialog.show=e}}},[n("el-form",{staticStyle:{width:"550px"},attrs:{model:t.dialog.formData}},[n("el-form-item",{attrs:{label:"菜谱名","label-width":t.dialog.formLabelWidth}},[n("el-input",{attrs:{"auto-complete":"off"},model:{value:t.dialog.formData.name,callback:function(e){t.dialog.formData.name=e},expression:"dialog.formData.name"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"食材","label-width":t.dialog.formLabelWidth}},[n("el-transfer",{attrs:{filterable:"","right-default-checked":t.dialog.formData.materialKeys,"render-content":t.renderFunc,titles:["所有食材","菜谱所需食材"],"button-texts":["移除","选取"],data:t.transferData},on:{change:t.handleChange},model:{value:t.dialog.formData.materialKeys,callback:function(e){t.dialog.formData.materialKeys=e},expression:"dialog.formData.materialKeys"}})],1)],1),t._v(" "),n("div",{staticClass:"dialog-footer",slot:"footer"},[n("el-button",{on:{click:function(e){t.dialog.show=!1}}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.savaCookBook}},[t._v("确 定")])],1)],1):t._e()],1)},staticRenderFns:[]}},237:function(t,e){},238:function(t,e){},239:function(t,e){},247:function(t,e,n){(function(t){window.PATH=t,window.FS=n(534)}).call(e,"/")},248:function(module,__webpack_exports__,__webpack_require__){"use strict";function _asyncToGenerator(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function a(r,i){try{var o=e[r](i),s=o.value}catch(t){return void n(t)}if(!o.done)return Promise.resolve(s).then(function(t){a("next",t)},function(t){a("throw",t)});t(s)}return a("next")})}}Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var __WEBPACK_IMPORTED_MODULE_0_D_Project_ingredientsmanage_node_modules_6_23_0_babel_runtime_regenerator__=__webpack_require__(107),__WEBPACK_IMPORTED_MODULE_0_D_Project_ingredientsmanage_node_modules_6_23_0_babel_runtime_regenerator___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_D_Project_ingredientsmanage_node_modules_6_23_0_babel_runtime_regenerator__),_require=__webpack_require__(173),remote=_require.remote,path=__webpack_require__(535),configDir=remote.app.getPath("userData"),createFolder=function(t){var e=path.sep;t=t.replace(/\\|\//g,e);for(var n=path.dirname(t).split(e),a="";n.length;)a+=n.shift()+e,FS.existsSync(a)||FS.mkdirSync(a)};window.UTILS={readData:function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(__WEBPACK_IMPORTED_MODULE_0_D_Project_ingredientsmanage_node_modules_6_23_0_babel_runtime_regenerator___default.a.mark(function t(e){var n;return __WEBPACK_IMPORTED_MODULE_0_D_Project_ingredientsmanage_node_modules_6_23_0_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,UTILS.readJSON(configDir+e);case 2:if(n=t.sent){t.next=9;break}return createFolder(configDir+e),t.next=7,UTILS.readJSON(PATH+e);case 7:n=t.sent,n&&UTILS.saveJSON(n).to(configDir+e);case 9:if(!n){t.next=13;break}return t.abrupt("return",n);case 13:return $vue.message.error("读取本地数据时发生错误！"),t.abrupt("return",{});case 15:case"end":return t.stop()}},t,this)}));return t}(),readJSON:function(){function readJSON(t){return _ref2.apply(this,arguments)}var _ref2=_asyncToGenerator(__WEBPACK_IMPORTED_MODULE_0_D_Project_ingredientsmanage_node_modules_6_23_0_babel_runtime_regenerator___default.a.mark(function _callee2(absolutePath){var result;return __WEBPACK_IMPORTED_MODULE_0_D_Project_ingredientsmanage_node_modules_6_23_0_babel_runtime_regenerator___default.a.wrap(function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return result=void 0,_context2.next=3,new Promise(function(resolve){FS.readFile(absolutePath,"utf8",function(err,data){if(err)return console.log(err),void resolve();try{result=eval("("+data+")")}catch(t){return void $vue.$message.error("本地数据格式错误！")}resolve()})});case 3:return _context2.abrupt("return",result);case 4:case"end":return _context2.stop()}},_callee2,this)}));return readJSON}(),saveJSON:function(t){return{to:function(){function e(t){return n.apply(this,arguments)}var n=_asyncToGenerator(__WEBPACK_IMPORTED_MODULE_0_D_Project_ingredientsmanage_node_modules_6_23_0_babel_runtime_regenerator___default.a.mark(function e(n){return __WEBPACK_IMPORTED_MODULE_0_D_Project_ingredientsmanage_node_modules_6_23_0_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e,a){FS.writeFile(n,JSON.stringify(t),function(t){t?($vue.$message.error("保存本地数据失败"),a()):e()})});case 2:case"end":return e.stop()}},e,this)}));return e}()}}},Date.prototype.Format=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in e)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[n]:("00"+e[n]).substr((""+e[n]).length)));return t}},249:function(t,e,n){"use strict";function a(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function a(r,i){try{var o=e[r](i),s=o.value}catch(t){return void n(t)}if(!o.done)return Promise.resolve(s).then(function(t){a("next",t)},function(t){a("throw",t)});t(s)}return a("next")})}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(107),i=n.n(r),o=n(173),s=o.remote;s.app.getPath("userData");e.default={name:"Index",state:{today:{time:"",data:{}},ingredients:{"菜谱":[],"食材":[]},history:{}},mutations:{resetToday:function(t){t.today.time="",t.today.data={}}},actions:{getData:function(){function t(t){return e.apply(this,arguments)}var e=a(i.a.mark(function t(e){var n,a,r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state,t.t0=_,t.t1=n.ingredients,t.next=5,window.UTILS.readData("/static/data/Ingredients.json");case 5:return t.t2=t.sent,t.t0.assign.call(t.t0,t.t1,t.t2),t.next=9,window.UTILS.readData("/static/data/today.json");case 9:return n.today=t.sent,a=(new Date).Format("yyyy-MM-dd"),(!n.today.time||n.today.time<a)&&(n.today.time<a&&(n.history[n.today.time]=n.today.data,e.dispatch("saveHistory")),r={},e.commit("resetToday"),n.ingredients["菜谱"].forEach(function(t){r[t.name]=0}),n.today.time=a,n.today.data=r,e.dispatch("saveToday")),t.next=14,window.UTILS.readData("/static/data/history.json");case 14:n.history=t.sent;case 15:case"end":return t.stop()}},t,this)}));return t}(),saveToday:function(){function t(t){return e.apply(this,arguments)}var e=a(i.a.mark(function t(e){var n=e.state;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:window.UTILS.saveJSON(n.today).to("/static/data/today.json");case 1:case"end":return t.stop()}},t,this)}));return t}(),saveIngredients:function(){function t(t){return e.apply(this,arguments)}var e=a(i.a.mark(function t(e){var n=e.state;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:window.UTILS.saveJSON(n.ingredients).to("/static/data/Ingredients.json").then(function(){$vue.$message.success("操作成功")});case 1:case"end":return t.stop()}},t,this)}));return t}(),saveHistory:function(){function t(t){return e.apply(this,arguments)}var e=a(i.a.mark(function t(e){var n=e.state;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:window.UTILS.saveJSON(n.history).to("/static/data/history.json").then(function(){$vue.$message.success("操作成功")});case 1:case"end":return t.stop()}},t,this)}));return t}()}}},250:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={beforeCreate:function(){window.$vue=this,this.$store.dispatch("getData")}}},251:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"index",components:{Entry:n(225),history:n(224),material:n(227),cookbook:n(226)},data:function(){return{activeName:"数据录入"}}}},252:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(256);n.n(a);e.default={data:function(){return{Xaxis:[],Yaxis:[]}},computed:{historyString:function(){return JSON.stringify(this.$store.state.Index.history)},history:function(){return this.$store.state.Index.history}},created:function(){var t=[];new Date((new Date).Format("yyyy-MM-dd")).getTime();for(var e in this.history){t.push(e);var n=this.history[e];for(var a in n);}t.sort(),t[0]}}},253:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{filter:"",forShow:!0}},computed:{tableData:function(){var t=this;return this.filter.length>0?this.$store.state.Index.ingredients["菜谱"].filter(function(e){return e.name.indexOf(t.filter)>-1}):this.$store.state.Index.ingredients["菜谱"]},todayMaterial:function(){var t=this,e={},n=[],a=function(n){var a=t.$store.state.Index.today.data[n];t.$store.state.Index.ingredients["菜谱"].forEach(function(t){t.name===n&&t.materials.forEach(function(t){void 0===e[t.name]&&(e[t.name]=0),e[t.name]+=+t.weight*a})})};for(var r in this.$store.state.Index.today.data)a(r);for(var i in e)n.push({name:i,weight:e[i]});return n}},methods:{handleChange:function(){var t=this;this.$nextTick(function(){t.$store.dispatch("saveToday")})},print:function(){var t=this;this.forShow=!1,document.querySelector(".el-tabs__header").style.display="none",this.$nextTick(function(){window.print(),document.querySelector(".el-tabs__header").style.display="block",t.forShow=!0})}}}},254:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){var t=this;return{filter:"",dialog:{show:!1,formData:{name:void 0,materials:[],materialKeys:[]},formTransfer:{},formLabelWidth:"60px",tagInputVisible:!1,tagInputValue:void 0,currentName:void 0},renderFunc:function(e,n){return e("span",null,[n.key,e("el-input",{class:"custom-input",props:{value:n.weight},on:{change:function(e){var a=t.dialog.formData.materials.find(function(t){return t.name===n.key});a&&(a.weight=+e),n.weight=+e}}}),"克"])}}},computed:{tableData:function(){var t=this;return this.filter.length>0?this.$store.state.Index.ingredients["菜谱"].filter(function(e){return e.name.indexOf(t.filter)>-1}):this.$store.state.Index.ingredients["菜谱"]},today:function(){return this.$store.state.Index.today},ingredients:function(){return this.$store.state.Index.ingredients},transferData:function(){var t=[];return this.ingredients["食材"].forEach(function(e){t.push({key:e.name,label:e.name,weight:void 0})}),t}},watch:{},methods:{handleChange:function(t,e,n){var a=this;"right"===e?n.forEach(function(t){a.dialog.formData.materials.push({name:t,weight:a.transferData.find(function(e){return e.key===t}).weight})}):n.forEach(function(t){a.dialog.formData.materials.forEach(function(e,n){e.name===t&&a.dialog.formData.materials.splice(n,1)})})},addCookBook:function(){this.transferData.forEach(function(t){t.weight=void 0}),this.dialog.formData.name=void 0,this.dialog.formData.materialKeys=[],this.dialog.formData.materials=[],this.dialog.show=!0,this.dialog.currentName=void 0},editCookBook:function(t,e){var n=this,a=_.cloneDeep(e);this.dialog.formData.name=a.name,this.dialog.formData.materials=[],this.dialog.formData.materialKeys=[],a.materials.forEach(function(t){n.dialog.formData.materialKeys.push(t.name),n.dialog.formData.materials.push(t)}),this.transferData.forEach(function(t){t.weight=void 0}),this.transferData.forEach(function(t){n.dialog.formData.materials.forEach(function(e){e.name===t.key&&(t.weight=e.weight)})}),this.dialog.show=!0,this.dialog.currentName=a.name},delCookBook:function(t,e){var n=this;this.$confirm("此操作将永久删除菜谱, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){n.ingredients["菜谱"].splice(t,1),n.$store.dispatch("saveIngredients")}).catch(function(){n.$message({type:"info",message:"已取消删除"})})},showTagInput:function(){var t=this;this.dialog.tagInputVisible=!0,this.$nextTick(function(e){t.$refs.saveTagInput.$refs.input.focus()})},handleCloseTag:function(t){this.dialog.formData.materials.splice(t,1)},handleInputConfirm:function(){var t=this.dialog.tagInputValue;if(!t)return void alert("请输入内容");var e=t.replace(/\s/g,""),n=e.split("：")[0]||e.split(":")[0],a=e.split("：")[1]||e.split(":")[1],r=this.ingredients["食材"].find(function(t){return t.name===n}),i=this.dialog.formData.materials.find(function(t){return t.name===n});return r?i?void alert("该食材已存在"):(this.dialog.formData.materials.push({name:n,weight:a}),this.dialog.tagInputVisible=!1,void(this.dialog.tagInputValue=void 0)):void alert("尚未发现该食材，请在食材管理中添加")},savaCookBook:function(){var t=this,e=void 0;if(this.dialog.currentName){e=this.ingredients["菜谱"].find(function(e){return e.name===t.dialog.currentName});var n=this.today.data[this.dialog.currentName];delete this.today.data[this.dialog.currentName],this.today.data[this.dialog.formData.name]=n,this.$store.dispatch("saveToday")}else{var a=this.dialog.formData.name;if(this.ingredients["菜谱"].find(function(t){return t.name===a}))return void alert("该菜谱已存在");e={},this.ingredients["菜谱"].push(e),this.today.data[this.dialog.formData.name]=0,this.$store.dispatch("saveToday")}e.name=this.dialog.formData.name,e.materials=[],this.dialog.formData.materials.forEach(function(t){e.materials.push(_.cloneDeep(t))}),this.$store.dispatch("saveIngredients"),this.dialog.show=!1,this.dialog.currentName=void 0}}}},255:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{filter:"",dialog:{show:!1,formData:{name:void 0},formLabelWidth:"60px",currentName:void 0}}},computed:{tableData:function(){var t=this;return this.filter.length>0?this.$store.state.Index.ingredients["食材"].filter(function(e){return e.name.indexOf(t.filter)>-1}):this.$store.state.Index.ingredients["食材"]},today:function(){return this.$store.state.Index.today},ingredients:function(){return this.$store.state.Index.ingredients}},methods:{addMaterial:function(){this.dialog.formData.name=void 0,this.dialog.show=!0,this.dialog.currentName=void 0},editMaterial:function(t,e){this.dialog.formData.name=e.name,this.dialog.show=!0,this.dialog.currentName=e.name},delMaterial:function(t,e){var n=this;this.$confirm("此操作将永久删除食材, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){n.ingredients["食材"].splice(t,1),n.$store.dispatch("saveIngredients")}).catch(function(){n.$message({type:"info",message:"已取消删除"})})},savaMaterial:function(){var t=this,e=void 0;if(this.dialog.currentName)e=this.ingredients["食材"].find(function(e){return e.name===t.dialog.currentName}),this.ingredients["菜谱"].forEach(function(e){e.materials.forEach(function(e){e.name===t.dialog.currentName&&(e.name=t.dialog.formData.name)})});else{var n=this.dialog.formData.name;if(this.ingredients["食材"].find(function(t){return t.name===n}))return void alert("该食材已存在");e={},this.ingredients["食材"].push(e)}e.name=this.dialog.formData.name,this.$store.dispatch("saveIngredients"),this.dialog.show=!1,this.dialog.currentName=void 0}}}},534:function(t,e){t.exports=require("fs")},535:function(t,e){t.exports=require("path")},536:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=(n(175),n(174));n(176),a.a.$mount("#app")},537:function(t,e,n){t.exports=n.p+"static/media/element-icons.b02bdc1b.ttf"},538:function(t,e,n){t.exports=n.p+"static/media/element-icons.d2f69a92.woff"}},[536]);